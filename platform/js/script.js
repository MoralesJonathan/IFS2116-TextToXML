function getSelectionText(){return userTextInput.value.substring(userTextInput.selectionStart,userTextInput.selectionEnd)}var textToProcess="",programStep=0,userTextInput=document.getElementById("usrTextInput");$("#generate-btn").hide(),$(function(){$(".button-collapse").sideNav(),$(".modal").modal()}),$("#nxt-btn").click(function(){switch(console.log("CLICKEDD"),programStep){case 0:textToProcess=$("#usrTextInput").val(),$("#instructions").html("<h4>Select heading text and click Next</h4>"),programStep++;break;case 1:var e=getSelectionText().length;textToProcess=[textToProcess.slice(0,textToProcess.indexOf(getSelectionText())),'<div type="head">',textToProcess.slice(textToProcess.indexOf(getSelectionText()))].join(""),textToProcess=[textToProcess.slice(0,textToProcess.indexOf(getSelectionText())+e),"</div>",textToProcess.slice(textToProcess.indexOf(getSelectionText())+e)].join(""),$("#instructions").html("<h4>Select sub heading text and click Next</h4>"),programStep++;break;case 2:var e=getSelectionText().length;textToProcess=[textToProcess.slice(0,textToProcess.indexOf(getSelectionText())),'<div type="subhead">',textToProcess.slice(textToProcess.indexOf(getSelectionText()))].join(""),textToProcess=[textToProcess.slice(0,textToProcess.indexOf(getSelectionText())+e),"</div>",textToProcess.slice(textToProcess.indexOf(getSelectionText())+e)].join(""),$("#instructions").html("<h4>Select paragraph text and click Next</h4>"),programStep++,console.log(textToProcess);break;case 3:var e=getSelectionText().length;textToProcess=[textToProcess.slice(0,textToProcess.indexOf(getSelectionText())),"<p>",textToProcess.slice(textToProcess.indexOf(getSelectionText()))].join(""),textToProcess=[textToProcess.slice(0,textToProcess.indexOf(getSelectionText())+e),"</p>",textToProcess.slice(textToProcess.indexOf(getSelectionText())+e)].join(""),$("#generate-btn").show(),$("#instructions").html('<h4>Done! Please hit the "Generate" button to get your XML!</h4>'),programStep=0;break;default:programStep=0,$("#instructions").html("<h4>An Error has occured. Please refesh this page</h4>")}}),$("#generate-btn").click(function(){alert(textToProcess),$("#loader").show(),$.post("/getXML",textToProcess).done(function(e){alert("Data Loaded: "+e)}).fail(function(){alert("error")}),$("#generate-btn").hide()});