function getSelectionText(){return userTextInput.value.substring(userTextInput.selectionStart,userTextInput.selectionEnd)}function checkboxfunc(e){switch(e){case 1:!optionDone[0]&&$("#checkbox0").is(":checked")&&(textToProcess='<div type="item">'+$("#usrTextInput").val()+"</div>",optionDone[0]=!0,console.log("case 1 opt 0 = "+textToProcess)),$("#instructions p").html("Select heading text and click Next"),optionDone[1]=!0,option1Pending=!0;break;case 2:if(!optionDone[0]&&$("#checkbox0").is(":checked"))textToProcess='<div type="item">'+$("#usrTextInput").val()+"</div>",optionDone[0]=!0,console.log("case 2 opt 0 = "+textToProcess);else if(option1Pending&&$("#checkbox1").is(":checked")){var t=getSelectionText().length;textToProcess=[textToProcess.slice(0,textToProcess.indexOf(getSelectionText())),"<head>",textToProcess.slice(textToProcess.indexOf(getSelectionText()))].join(""),textToProcess=[textToProcess.slice(0,textToProcess.indexOf(getSelectionText())+t),"</head>",textToProcess.slice(textToProcess.indexOf(getSelectionText())+t)].join(""),optionDone[1]=!0,option1Pending=!1,console.log("case 2 opt 1 = "+textToProcess)}console.log("case 2 done = "+textToProcess),$("#instructions p").html("Select sub heading text and click Next"),optionDone[2]=!0,option2Pending=!0;break;case 3:if(!optionDone[0]&&$("#checkbox0").is(":checked"))textToProcess='<div type="item">'+$("#usrTextInput").val()+"</div>",optionDone[0]=!0,console.log("case 3 opt 0 = "+textToProcess);else if(option1Pending&&$("#checkbox1").is(":checked")){var t=getSelectionText().length;console.log(t),console.log(getSelectionText()),textToProcess=[textToProcess.slice(0,textToProcess.indexOf(getSelectionText())),"<head>",textToProcess.slice(textToProcess.indexOf(getSelectionText()))].join(""),textToProcess=[textToProcess.slice(0,textToProcess.indexOf(getSelectionText())+t),"</head>",textToProcess.slice(textToProcess.indexOf(getSelectionText())+t)].join(""),optionDone[1]=!0,option1Pending=!1,console.log("case 3 opt 1 = "+textToProcess)}else if(option2Pending&&$("#checkbox2").is(":checked")){var t=getSelectionText().length;textToProcess=[textToProcess.slice(0,textToProcess.indexOf(getSelectionText())),'<head type="subhead">',textToProcess.slice(textToProcess.indexOf(getSelectionText()))].join(""),textToProcess=[textToProcess.slice(0,textToProcess.indexOf(getSelectionText())+t),"</head>",textToProcess.slice(textToProcess.indexOf(getSelectionText())+t)].join(""),optionDone[2]=!0,option2Pending=!1,console.log("case 3 opt 2 = "+textToProcess)}$("#instructions p").html("Select paragraph text and click Next"),optionDone[3]=!0,option3Pending=!0;break;case 4:if(!optionDone[0]&&$("#checkbox0").is(":checked"))textToProcess='<div type="item">'+$("#usrTextInput").val()+"</div>",optionDone[0]=!0,console.log("case 4 opt 0 = "+textToProcess);else if(option1Pending&&$("#checkbox1").is(":checked")){var t=getSelectionText().length;textToProcess=[textToProcess.slice(0,textToProcess.indexOf(getSelectionText())),"<head>",textToProcess.slice(textToProcess.indexOf(getSelectionText()))].join(""),textToProcess=[textToProcess.slice(0,textToProcess.indexOf(getSelectionText())+t),"</head>",textToProcess.slice(textToProcess.indexOf(getSelectionText())+t)].join(""),optionDone[1]=!0,option1Pending=!1,console.log("case 4 opt 1 = "+textToProcess)}else if(option2Pending&&$("#checkbox2").is(":checked")){var t=getSelectionText().length;textToProcess=[textToProcess.slice(0,textToProcess.indexOf(getSelectionText())),'<head type="subhead">',textToProcess.slice(textToProcess.indexOf(getSelectionText()))].join(""),textToProcess=[textToProcess.slice(0,textToProcess.indexOf(getSelectionText())+t),"</head>",textToProcess.slice(textToProcess.indexOf(getSelectionText())+t)].join(""),optionDone[2]=!0,option2Pending=!1,console.log("case 4 opt 2 = "+textToProcess)}else if(option3Pending&&$("#checkbox3").is(":checked")){var t=getSelectionText().length;textToProcess=[textToProcess.slice(0,textToProcess.indexOf(getSelectionText())),"<p>",textToProcess.slice(textToProcess.indexOf(getSelectionText()))].join(""),textToProcess=[textToProcess.slice(0,textToProcess.indexOf(getSelectionText())+t),"</p>",textToProcess.slice(textToProcess.indexOf(getSelectionText())+t)].join(""),option3Pending=!1,console.log("case 4 opt 3 = "+textToProcess)}$("#generate-btn").show(),$("#instructions p").html('Done! Please hit the "Generate" button to get your XML!'),optionDone[4]=!0;break;default:$("#instructions p").html("An Error has occured. Please refesh this page")}}var optionDone=[!1,!1,!1,!1,!1],option1Pending=!1,option2Pending=!1,option3Pending=!1,userTextInput=document.getElementById("usrTextInput"),textToProcess="";$(function(){$(".button-collapse").sideNav(),$(".modal").modal()}),$("#generate-btn").hide(),$("#nxt-btn").click(function(){for(var e=1;e<6;e++){if(5==e){console.log("resetting..."),$("#nxt-btn").html("Next"),$("#xmlOutput").val(""),$("#usrTextInput").val(""),$("#instructions p").html("Ready to get started? Paste your text and click 'Next'!"),$("#xmlOutput").trigger("autoresize"),$("#usrTextInput").trigger("autoresize");for(var t in optionDone)optionDone[t]=!1;option1Pending=!1,option2Pending=!1,option3Pending=!1,textToProcess="";break}if(!optionDone[e]){if(4==e){console.log("calling func 4"),checkboxfunc(4);break}if(console.log("option "+e+"was found not to be done yet. Will see if it's checked off..."),$("#checkbox"+e).is(":checked")){console.log("It is! Will call function for option "+e),checkboxfunc(e);break}optionDone[e]=!0,console.log("Bummer, option not checked. Setting this to true and trying another option.")}}}),$("#generate-btn").click(function(){$("#generate-btn").hide(),$("#nxt-btn").html("Reset"),$("#xmlOutput").val(vkbeautify.xml(textToProcess)),$("#xmlOutput").trigger("autoresize")});